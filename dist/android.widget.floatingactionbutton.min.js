this.android=this.android||{},this.android.widget=this.android.widget||{},this.android.widget.floatingactionbutton=function(){"use strict";const{NODE_PROCEDURE:t,NODE_RESOURCE:e}=squared.base.lib.constant,{CONTAINER_NODE:o,SUPPORT_TAGNAME:a,SUPPORT_TAGNAME_X:i}=android.lib.constant,{assignEmptyValue:r}=squared.lib.util,{createViewAttribute:n,parseColor:s}=android.lib.util,d=android.base.Resource,l=["button","file","image","reset","search","submit"],g="ic_dialog_";class FloatingActionButton extends squared.base.ExtensionUI{is(t){const e=t.element;return super.is(t)&&("INPUT"!==e.tagName||l.includes(e.type))}condition(t){return this.included(t.element)}processNode(t,e){const o=n(this.options[t.elementId]),{element:l,target:c}=t,u=t.localSettings.resourceId,y=t.css("backgroundColor");let m,p;if("none"!==y){const t=s(y);t&&(m=d.addColor(u,t))}switch(r(o,"android","backgroundTint",m?`@color/${m}`:"?attr/colorAccent"),t.hasProcedure(8)||r(o,"android","focusable","false"),l.tagName){case"IMG":p=this.resource.addImageSrc(u,l,g);break;case"INPUT":if("image"===l.type){p=this.resource.addImageSrc(u,l,g);break}case"BUTTON":p=this.resource.addImageSrc(u,t.backgroundImage,g)}p&&r(o.app||(o.app={}),"srcCompat",`@drawable/${p}`);const f=t.api<29?a.FLOATING_ACTION_BUTTON:i.FLOATING_ACTION_BUTTON;if(t.setControlType(f,9),t.exclude({resource:29}),d.formatOptions(u,o,this.application.extensionManager.valueAsBoolean("android.resource.strings","numberAsResource")),t.pageFlow){if(c){const e=t.documentParent.box,o=t.linear,a=t.getHorizontalBias(),i=t.getVerticalBias();a<.5?(t.mergeGravity("layout_gravity",t.localizeString("left")),t.modifyBox(8,o.left-e.left)):a>.5?(t.mergeGravity("layout_gravity",t.localizeString("right")),t.modifyBox(2,e.right-o.right)):t.mergeGravity("layout_gravity","center_horizontal"),i<.5?(t.app("layout_dodgeInsetEdges","top"),t.mergeGravity("layout_gravity","top"),t.modifyBox(1,o.top-e.top)):i>.5?(t.mergeGravity("layout_gravity","bottom"),t.modifyBox(4,e.bottom-o.bottom)):t.mergeGravity("layout_gravity","center_vertical"),t.positioned=!0}}else{const o=this.application.resolveTarget(t.sessionId,c)||e;t.autoMargin.leftRight?t.mergeGravity("layout_gravity","center_horizontal"):t.hasPX("left")?(t.mergeGravity("layout_gravity",t.localizeString("left")),t.modifyBox(8,o.getAbsolutePaddingOffset(128,t.left))):t.hasPX("right")&&(t.mergeGravity("layout_gravity",t.localizeString("right")),t.modifyBox(2,o.getAbsolutePaddingOffset(32,t.right))),t.autoMargin.topBottom?t.mergeGravity("layout_gravity","center_vertical"):t.hasPX("top")?(t.app("layout_dodgeInsetEdges","top"),t.mergeGravity("layout_gravity","top"),t.modifyBox(1,o.getAbsolutePaddingOffset(16,t.top))):t.hasPX("bottom")&&(t.mergeGravity("layout_gravity","bottom"),t.modifyBox(4,o.getAbsolutePaddingOffset(64,t.bottom))),t.positioned=!0}if(c){const o=t.android("layout_gravity");let r=e.documentId;if(e.controlName===(t.api<29?a.TOOLBAR:i.TOOLBAR)){const t=e.data("android.widget.toolbar","outerParent");t&&(r=t)}o&&(t.app("layout_anchorGravity",o),t.delete("android","layout_gravity")),t.app("layout_anchor",r),t.exclude({procedure:4})}return t.render(e),t.apply(o),{output:{type:1,node:t,controlName:f},complete:!0}}}const c=new FloatingActionButton("android.widget.floatingactionbutton",2,{tagNames:["BUTTON","INPUT","IMG"]});return squared&&squared.add(c),c}();
